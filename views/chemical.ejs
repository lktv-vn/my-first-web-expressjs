<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chemicals</title>
    <link rel="stylesheet" href="/css/chemical.css">
    <link rel="stylesheet" href="/css/home.css">
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div style="display: none;">
        <!-- <img src="./img/6771.jpg" style="width: 100%;" alt=""> -->
    </div>
    <div style="display: none;">
        <!-- <img src="./img/header.jpg" style="width: 100%;" alt=""> -->
    </div>

    <%- include('partials/header') %>
    <div style="display: flex; justify-content: center;">
        <div style="display: flex; flex-direction: row; justify-content: center; width: 70%; ;" class="menubar">
            <% const lsMenu = [{name: 'fungicide', full: 'Thuốc Nấm'}, {name: 'bactericide', full: 'Thuốc Khuẩn'}, {name: 'insecticide', full: 'Thuốc côn trùng'}, {name: 'herbicide', full: 'Thuốc Cỏ'}, {name: 'namtocide', full: 'Thuốc tuyến trùng'}] %>
            <% lsMenu.forEach((ls, index) => { %>
                <div id="<%= ls.name %>" style="display: inline-block; position: relative; width: 100%; justify-content: center; align-items: center; border: 1px solid red; border-radius: 5%; margin-right: 1%;">
                    <h2 style="display: flex; align-items: center;width: 100%;height: 100%; justify-content: center;  margin: 0; text-align: center;"><%= ls.full %></h2>
                    <ul id="<%= ls.name + '_child_1'%>" style="
                    display: none; 
                    position: absolute; 
                    z-index: 1; 
                    top: 100%; 
                    background-color: white;
                    margin: 0;
                    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.3);
                    width: 100%;
                    ">
                        <% let ulGroup = new Set(); %> 
                        
                        
                        <% smallMenu.filter(a=>a.type_chem===ls.name).forEach(element => { %>
                            <% ulGroup.add(element.nameGroup); %>
                        <% }); %>
                        <% ulGroup.forEach(element => { %>
                            <% let ulActive = new Set(); %> 
                            <li class="hclass" style="display: inline-block; position: relative;">
                                <h3><%= element %></h3>
                                <ul class="aclass" style="
                                display: none; 
                                position: absolute; 
                                z-index: 1; 
                                left: 100%;
                                top: 0%;
                                background-color: white;
                                margin: 0px;
                                box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.3);
                                width: 200px;
                                ">
                                    <% smallMenu.filter(a=>a.nameGroup ===element).forEach(b => { %>
                                        <% ulActive.add(b) %>
                                    <% }) %>
                                    <% ulActive.forEach(c => { %>
                                        <li data-user-id="<%= c.id %>" class="click"><%= c.tenHoatChat %></li>
                                    <% }) %>
                                </ul>
                            </li>                        
                        <% }); %>
                    </ul>
                </div>
            <% }) %>
        </div>
    </div>
    
    <div style="display: flex; flex-direction: row; width: 100%;">
        <div style="display: flex; flex-direction: column; width: 20%; padding-left: 2%; padding-right: 1%;padding-top: 1%; background-color: bisque; margin-top: 2%;margin-left: 1%; margin-left: 5%;">
            <div>
                <h3>Nhóm  <%= smallMenu[idMenu].nameGroup %></h3>         
            </div>
            <div style="display: flex; flex-direction: column; text-align: left;">
                <!-- <h4>Đây là list hoạt cahaats cần được render nè</h4> -->
                <ul>
                    <% let lsSubMenu = new Set(); %>
                    <% smallMenu.filter(smItem => smItem.nameGroup === smallMenu[idMenu].nameGroup).forEach(smItem => { %>                    
                        <li class="clickSub" data-user-id="<%= smItem.id %>" ><%= smItem.tenHoatChat %></li> 
                    <% }) %>

                </ul>
            </div>
        </div>
        <div style="width: 100%; padding-left: 2%; padding-top: 1%; background-color: rgb(29, 127, 151); margin-top: 2%;margin-left: 1%; margin-right: 5%">
            <div style="display: flex; flex-direction: row; padding: 0px;">
                <div  style="width: 40%; ">
                    <img src=<%= smallMenu[idMenu].imgCTCT %> style="width: 100%; margin-top: 15%;" alt="" onerror="this.style.display= 'none'">
                </div>
                <div class="spanInside" style="width: 60%; display: flex; flex-direction: column; text-align: left; padding-left: 5%;">
                       <span>Tên hoạt chất: <Strong> <%=  smallMenu[idMenu].tenHoatChat%></Strong></span>
                       <span>Công thức hóa học: <Strong><%=  smallMenu[idMenu].CTHH%></Strong></span>
                       <span>Thuộc nhóm: <Strong><%=  smallMenu[idMenu].nameGroup + smallMenu[idMenu].numGroup%></Strong></span>
                       <span>Côn trùng có thẻ quản lí: <Strong><%=  smallMenu[idMenu].control%></Strong></span>
                       <span>Cơ chế tác động: <Strong><%=  smallMenu[idMenu].CoChe%></Strong></span>
                </div>
            </div>
            <div><h4>Thông tin hoạt chất ở đây</h4></div>
        </div>
    </div>
    <div style="display: flex; justify-content: center;">
        <h1 id="vidu" data-user-id="123">
            <pre>`
                đây là tiêu đề <br>đây là dòng thứ 1\n
                đây là dòng thứ 2\n
                `</pre>
        </h1>
    </div>
    <%- include('partials/footer') %>
    <script type="module" src="/js/chemical.js"></script>  
    
    <script type="module" src="/js/script.js"></script>
</body>
</html>